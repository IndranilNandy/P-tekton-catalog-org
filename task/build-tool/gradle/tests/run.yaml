---
apiVersion: tekton.dev/v1
kind: PipelineRun
metadata:
  generateName: gradle-test-pipeline-run-
spec:
  pipelineRef:
    name: gradle-test-pipeline

  taskRunTemplate:
    podTemplate:
      securityContext:
        fsGroup: 65532

  workspaces:
    - name: shared-workspace
      persistentVolumeClaim:
        claimName: gradle-source-pvc
      subPath: source/
    - name: gradle-config
      configMap:
        name: gradle-config
    # - name: gradle-cache
    #   persistentVolumeClaim:
    #     claimName: gradle-source-pvc
    #   subPath: gradle-cache/